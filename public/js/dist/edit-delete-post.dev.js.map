{"version":3,"sources":["edit-delete-post.js"],"names":["editPostHandler","event","preventDefault","title","document","querySelector","innerHTML","body","post_id","window","location","toString","split","length","console","log","replace","deletePostHandler","fetch","method","headers","response","ok","alert","statusText","addEventListener"],"mappings":";;AAAA;AACA,SAAeA,eAAf,CAA+BC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACIA,UAAAA,KAAK,CAACC,cAAN;AAEMC,UAAAA,KAHV,GAGkBC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCC,SAHxD;AAIUC,UAAAA,IAJV,GAIiBH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,SAJtD;AAKUE,UAAAA,OALV,GAKoBC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2BC,KAA3B,CAAiC,GAAjC,EACdH,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2BC,KAA3B,CAAiC,GAAjC,EAAsCC,MAAtC,GAA+C,CADjC,CALpB;AAQIC,UAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EAAmBI,IAAnB;AACAH,UAAAA,QAAQ,CAACM,QAAT,CAAkBM,OAAlB,CAA0B,WAAWR,OAArC;;AATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAYE;;;AACA,SAAeS,iBAAf,CAAiChB,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AACEA,UAAAA,KAAK,CAACC,cAAN;AAEMM,UAAAA,OAHR,GAGkBC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2BC,KAA3B,CAAiC,GAAjC,EACdH,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2BC,KAA3B,CAAiC,GAAjC,EAAsCC,MAAtC,GAA+C,CADjC,CAHlB;AAAA;AAAA,0CAMyBK,KAAK,CAAC,gBAAgBV,OAAjB,EAA0B;AACpDW,YAAAA,MAAM,EAAE,QAD4C;AAEpDC,YAAAA,OAAO,EAAE;AACP,8BAAgB;AADT;AAF2C,WAA1B,CAN9B;;AAAA;AAMQC,UAAAA,QANR;;AAcE,cAAIA,QAAQ,CAACC,EAAb,EAAiB;AACflB,YAAAA,QAAQ,CAACM,QAAT,CAAkBM,OAAlB,CAA0B,YAA1B;AACD,WAFD,MAEO;AACLO,YAAAA,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAL;AACD;;AAlBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAqBA;;;AACApB,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCoB,gBAApC,CAAqD,OAArD,EAA8DzB,eAA9D;AACAI,QAAQ,CACLC,aADH,CACiB,aADjB,EAEGoB,gBAFH,CAEoB,OAFpB,EAE6BR,iBAF7B","sourcesContent":["//handle editing the post\r\nasync function editPostHandler(event) {\r\n    event.preventDefault();\r\n  \r\n    const title = document.querySelector(\"#post-title\").innerHTML;\r\n    const body = document.querySelector(\"#post-body\").innerHTML;\r\n    const post_id = window.location.toString().split(\"/\")[\r\n      window.location.toString().split(\"/\").length - 1\r\n    ];\r\n    console.log(title, body);\r\n    document.location.replace(\"/edit/\" + post_id);\r\n  }\r\n  \r\n  //handle deleting the post\r\n  async function deletePostHandler(event) {\r\n    event.preventDefault();\r\n    \r\n    const post_id = window.location.toString().split(\"/\")[\r\n      window.location.toString().split(\"/\").length - 1\r\n    ];\r\n    const response = await fetch(\"/api/posts/\" + post_id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  \r\n    \r\n    if (response.ok) {\r\n      document.location.replace(\"/dashboard\");\r\n    } else {\r\n      alert(response.statusText); \r\n    }\r\n  }\r\n  \r\n  //edit + delete post\r\n  document.querySelector(\"#edit-btn\").addEventListener(\"click\", editPostHandler);\r\n  document\r\n    .querySelector(\"#delete-btn\")\r\n    .addEventListener(\"click\", deletePostHandler);"],"file":"edit-delete-post.dev.js"}