{"version":3,"sources":["edit-delete-post.js"],"names":["editPostHandler","event","title","body","post_id","regeneratorRuntime","async","_context","prev","next","preventDefault","document","querySelector","innerHTML","window","location","toString","split","length","stop","fetch","method","headers","Content-Type","response","ok","replace","addEventListener","deletePostHandler"],"mappings":"aACA,SAAeA,gBAAgBC,GAA/B,IAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EADAR,EAAAS,iBACAR,EAAAS,SAAAC,cAAA,eAAAC,UAAAV,EAAAQ,SAAAC,cAAA,cAAAC,UAAAT,EAAAU,OAAAC,SAAAC,WAAAC,MAAA,KAAAH,OAAAC,SAAAC,WAAAC,MAAA,KAAAC,OAAA,GACIjB,QAAAA,IAAMS,EAAAA,GAEAR,SAAAA,SAAQS,QAASC,SAAcR,GAHzC,KAAA,EAAA,IAAA,MAAA,OAAAG,EAAAY,UASIR,SAAAA,kBAAAV,GAAAU,IAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAKAV,EAAMS,iBAdVN,EAAAU,OAAAC,SAAAC,WAAAC,MAAA,KAAAH,OAAAC,SAAAC,WAAAC,MAAA,KAAAC,OAAA,GASIP,EAAAA,KAAAA,EAAAA,mBAAAA,MATJS,MAAA,cAAAhB,EAAA,CAAAiB,OAAA,SAYEC,QAAA,CAUMC,eAAgB,uBAbpBZ,KAAAA,GATJa,EASIb,EAAAA,MAIFc,GAAAd,SAAAI,SAAAW,QAAA,cACEzB,MAAAA,EAAMS,YALNC,KAAAA,EAAAA,IAAAA,MAAAA,OAAAA,EAAAA,UAYEW,SAAAA,cAAS,aAAAK,iBAAA,QAAA3B,iBACPW,SADOC,cAAA,eAF2Ce,iBANxD,QAAAC","file":"edit-delete-post.min.js","sourcesContent":["//handle editing the post\r\nasync function editPostHandler(event) {\r\n    event.preventDefault();\r\n  \r\n    const title = document.querySelector(\"#post-title\").innerHTML;\r\n    const body = document.querySelector(\"#post-body\").innerHTML;\r\n    const post_id = window.location.toString().split(\"/\")[\r\n      window.location.toString().split(\"/\").length - 1\r\n    ];\r\n    console.log(title, body);\r\n    document.location.replace(\"/edit/\" + post_id);\r\n  }\r\n  \r\n  //handle deleting the post\r\n  async function deletePostHandler(event) {\r\n    event.preventDefault();\r\n    \r\n    const post_id = window.location.toString().split(\"/\")[\r\n      window.location.toString().split(\"/\").length - 1\r\n    ];\r\n    const response = await fetch(\"/api/posts/\" + post_id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  \r\n    \r\n    if (response.ok) {\r\n      document.location.replace(\"/dashboard\");\r\n    } else {\r\n      alert(response.statusText); \r\n    }\r\n  }\r\n  \r\n  //edit + delete post\r\n  document.querySelector(\"#edit-btn\").addEventListener(\"click\", editPostHandler);\r\n  document\r\n    .querySelector(\"#delete-btn\")\r\n    .addEventListener(\"click\", deletePostHandler);"]}