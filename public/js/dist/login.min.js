"use strict";function loginFormHandler(r){var t,n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=document.querySelector("#email-login").value.trim(),n=document.querySelector("#password-login").value.trim(),t&&n){e.next=6;break}return alert("Please enter your email and password."),e.abrupt("return");case 6:return e.prev=6,e.next=9,regeneratorRuntime.awrap(fetch("/api/users/login",{method:"POST",body:JSON.stringify({email:t,password:n}),headers:{"Content-Type":"application/json"}}));case 9:if(!(a=e.sent).ok){e.next=15;break}console.log(a," Logged in successfully!"),document.location.replace("/"),e.next=16;break;case 15:throw new Error(a.statusText);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0),alert("Failed to log in. Please try again.");case 22:case"end":return e.stop()}},null,null,[[6,18]])}function signupFormHandler(r){var t,n,a,o,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=document.querySelector("#username-signup").value.trim(),n=document.querySelector("#email-signup").value.trim(),a=document.querySelector("#password-signup").value.trim(),t&&n&&a){e.next=7;break}return alert("Please fill out all fields."),e.abrupt("return");case 7:return e.prev=7,e.next=10,regeneratorRuntime.awrap(fetch("/api/users",{method:"POST",body:JSON.stringify({username:t,email:n,password:a}),headers:{"Content-Type":"application/json"}}));case 10:if(!(o=e.sent).ok){e.next=15;break}console.log(o),e.next=16;break;case 15:throw new Error(o.statusText);case 16:return e.next=18,regeneratorRuntime.awrap(fetch("/api/users/login",{method:"POST",body:JSON.stringify({email:n,password:a}),headers:{"Content-Type":"application/json"}}));case 18:if(!(s=e.sent).ok){e.next=24;break}console.log(s," Logged in successfully!"),document.location.replace("/"),e.next=25;break;case 24:throw new Error(s.statusText);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(7),console.error(e.t0),alert("Failed to sign up or log in. Please try again.");case 31:case"end":return e.stop()}},null,null,[[7,27]])}document.querySelector("#login-btn").addEventListener("click",loginFormHandler),document.querySelector("#signup-btn").addEventListener("click",signupFormHandler);
//# sourceMappingURL=login.min.js.map
