{"version":3,"sources":["login.js"],"names":["loginFormHandler","event","email","password","response","regeneratorRuntime","async","_context","prev","next","preventDefault","value","trim","document","querySelector","alert","abrupt","awrap","fetch","method","body","JSON","stringify","Content-Type","sent","ok","console","log","location","replace","Error","statusText","t0","stop","signupFormHandler","username","responseTwo","_context2","headers","addEventListener"],"mappings":"aACA,SAAeA,iBAAiBC,GAAhC,IAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GADAR,EAAAS,iBACeV,EAAAA,SAAiBC,cAAhC,gBAAAU,MAAAC,OAAAT,EAAAU,SAAAC,cAAA,mBAAAH,MAAAC,OAAAV,GAAAC,EAAA,CAAAI,EAAAE,KAAA,EAAA,MAAA,OAAAM,MAAA,yCAAAR,EAAAS,OAAA,UAAA,KAAA,EAAA,OAAAT,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAY,MAW6BC,MAAM,mBAAoB,CAXvDC,OAKQ,OALRC,KAAAC,KAAAC,UAAA,CAAApB,MAAAA,EAAAC,SAAAA,IAMMY,QAAM,CAAAQ,eAAA,uBANZ,KAAA,EAAA,KAWYnB,EAXZG,EAAAiB,MAAAC,GAAA,CAAAlB,EAAAE,KAAA,GAAA,MAAAiB,QAAAC,IAAAvB,EAAA,4BAAAS,SAAAe,SAAAC,QAAA,KAAAtB,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAA,MAYQU,IAAMW,MAAE1B,EADuC2B,YAXvD,KAAA,GAAAxB,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAyB,GAAAzB,EAAA,MAAA,GAeUJ,QAAAA,MAAAA,EAAAA,IAFmBY,MAAA,uCAb7B,KAAA,GAAA,IAAA,MAAA,OAAAR,EAAA0B,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAiCE,SAAeC,kBAAkBjC,GAAjC,IAAAkC,EAAAjC,EAAAC,EAAAC,EAAAgC,EAAA,OAAA/B,mBAAAC,MAAA,SAAA+B,GAAA,OAAA,OAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,KAAA,EAAA,GAjCFR,EAAAS,iBAWYN,EAXZS,SAAAC,cAAA,oBAAAH,MAAAC,OAoCUV,EAAQW,SAASC,cAAc,iBAAiBH,MAAMC,OApChET,EAoBUC,SApBVU,cAAA,oBAAAH,MAAAC,OAAAuB,GAAAjC,GAAAC,EAiCE,CAAAkC,EAAA5B,KAAA,EAAA,MAAA,OAjCFM,MAAA,+BAiCEsB,EAAArB,OAAA,UAAA,KAAA,EAAA,OAAAqB,EAAA7B,KAAA,EAAA6B,EAAA5B,KAAA,GAAAJ,mBAAAY,MAjCFC,MAAA,aAAA,CA8CQC,OAAQ,OA9ChBC,KAAAC,KAAAC,UAAA,CAAAa,SAAAA,EAiDUjC,MAAAA,EAjDVC,SAAAA,IAAAmC,QAAA,CAAAf,eAAA,uBAiCE,KAAA,GAAA,KAjCFnB,EAiCEiC,EAAAb,MAjCFC,GAiCE,CAAAY,EAAA5B,KAAA,GAAA,MAjCFiB,QAAAC,IAAAvB,GAiCEiC,EAAA5B,KAAA,GAAA,MAAA,KAAA,GAAA,MALIM,IAAMe,MAAA1B,EAAA2B,YAKV,KAAA,GAAA,OAAAM,EAAA5B,KAAA,GAAAJ,mBAAAY,MAjCFC,MAAA,mBAAA,CAAAC,OAAA,OAAAC,KAAAC,KAAAC,UAAA,CAAApB,MAAAA,EAAAC,SAAAA,IAmEQmC,QAAS,CAAEf,eAAgB,uBAlCjC,KAAA,GAAA,KAjCFa,EAiCEC,EAAAb,MAAAC,GAAA,CAAAY,EAAA5B,KAAA,GAAA,MAAAiB,QAAAC,IAAAS,EAAA,4BAAAvB,SAAAe,SAAAC,QAAA,KAAAQ,EAAA5B,KAAA,GAAA,MAAA,KAAA,GAAA,MAAA,IAAAqB,MAAAM,EAAAL,YAAA,KAAA,GAAAM,EAAA5B,KAAA,GAAA,MAAA,KAAA,GAAA4B,EAAA7B,KAAA,GAAA6B,EAAAL,GAAAK,EAAA,MAAA,GAGQnC,QAAAA,MAAAA,EAAAA,IACAC,MAAAA,kDAJR,KAAA,GAAA,IAAA,MAAA,OAAAkC,EAAAJ,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAAApB,SAAAC,cAAA,cAAAyB,iBAAA,QAAAvC,kBAmDAa,SAASC,cAAc,eAAeyB,iBAAiB,QAASL","file":"login.min.js","sourcesContent":["// Handle login\r\nasync function loginFormHandler(event) {\r\n    event.preventDefault();\r\n    const email = document.querySelector(\"#email-login\").value.trim();\r\n    const password = document.querySelector(\"#password-login\").value.trim();\r\n  \r\n    if (!email || !password) {\r\n      alert(\"Please enter your email and password.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await fetch(\"/api/users/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email,\r\n          password,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n  \r\n      if (response.ok) {\r\n        console.log(response, \" Logged in successfully!\");\r\n        document.location.replace(\"/\");\r\n      } else {\r\n        throw new Error(response.statusText);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to log in. Please try again.\");\r\n    }\r\n  }\r\n  \r\n  // Handle signup/register\r\n  async function signupFormHandler(event) {\r\n    event.preventDefault();\r\n    const username = document.querySelector(\"#username-signup\").value.trim();\r\n    const email = document.querySelector(\"#email-signup\").value.trim();\r\n    const password = document.querySelector(\"#password-signup\").value.trim();\r\n  \r\n    if (!username || !email || !password) {\r\n      alert(\"Please fill out all fields.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await fetch(\"/api/users\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          username,\r\n          email,\r\n          password,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n  \r\n      if (response.ok) {\r\n        console.log(response);\r\n      } else {\r\n        throw new Error(response.statusText);\r\n      }\r\n  \r\n      const responseTwo = await fetch(\"/api/users/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email,\r\n          password,\r\n        }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n  \r\n      if (responseTwo.ok) {\r\n        console.log(responseTwo, \" Logged in successfully!\");\r\n        document.location.replace(\"/\");\r\n      } else {\r\n        throw new Error(responseTwo.statusText);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to sign up or log in. Please try again.\");\r\n    } \r\n  }\r\n  \r\n  // Add event listeners to the buttons\r\n  document.querySelector(\"#login-btn\").addEventListener(\"click\", loginFormHandler);\r\n  document.querySelector(\"#signup-btn\").addEventListener(\"click\", signupFormHandler);\r\n  "]}